<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from Floribot_reduced.urdf.xacro    | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="Floribot" xmlns:controller="http://playerstage.sourceforge.net/gazebo/xmlschema/#controller" xmlns:interface="http://playerstage.sourceforge.net/gazebo/xmlschema/#interface" xmlns:sensor="http://playerstage.sourceforge.net/gazebo/xmlschema/#sensor">
  <!-- base link -->
  <link name="base_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0.15000000000000002"/>
      <axis xyz="0 0 0"/>
      <geometry>
        <box size="0.01 0.01 0.01"/>
      </geometry>
      <material name="c">
        <color rgba="0 0.9 0.9 1.0"/>
      </material>
    </visual>
  </link>
  <!-- base link -->
  <link name="axesFront">
</link>
  <!-- joint between front wagon and base_link -->
  <joint name="base_link_2_axesFront" type="fixed">
    <parent link="base_link"/>
    <child link="axesFront"/>
    <origin xyz="0 0 0"/>
  </joint>
  <!-- joint between front wagon and base_link -->
  <joint name="j_base_2_front_wagon" type="fixed">
    <parent link="base_link"/>
    <child link="front_wagon"/>
    <origin xyz="-0.04 0 0"/>
  </joint>
  <!-- front wagon -->
  <link name="front_wagon">
    <visual>
      <origin rpy="0 0 0" xyz="-0.343 0 -0.14"/>
      <axis xyz="0 0 0"/>
      <geometry>
        <mesh filename="/home/aaron/floribot/ros2_ws/install/floribot_simulation/share/floribot_simulation/meshes/Vorderwagen.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="c">
        <color rgba="0 0.9 0.9 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0.14"/>
      <geometry>
        <box size="0.635 0.213 0.363"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0.14"/>
      <mass value="31"/>
      <inertia ixx="0.3853" ixy="0.0001197" ixz="-0.0128" iyy="1.0" iyz="0.0000149" izz="0.8678"/>
    </inertial>
  </link>
  <!-- gazebo color front wagon -->
  <gazebo reference="front_wagon">
    <material>Gazebo/Grey</material>
  </gazebo>
  <!-- joint laserscanner front  -->
  <joint name="joint_front_laser" type="fixed">
    <parent link="axesFront"/>
    <child link="front_laser_mount_link"/>
    <origin rpy="3.14 0 0" xyz="0.3315 0 0.03"/>
  </joint>
  <!-- z_offset: distance between base plate and laser center (= center of mesh) -->
  <link name="front_laser_mount_link">
    <inertial>
      <mass value="0.001"/>
      <origin xyz="0 0 0"/>
      <inertia ixx="0.000001" ixy="0.0" ixz="0.0" iyy="0.000001" iyz="0.0" izz="0.000001"/>
    </inertial>
  </link>
  <joint name="front_laser_joint" type="fixed">
    <parent link="front_laser_mount_link"/>
    <child link="front_laser"/>
    <origin rpy="0 0 0" xyz="0 0 0.05595"/>
  </joint>
  <link name="front_laser">
    <visual>
      <geometry>
        <mesh filename="package://sick_scan/meshes/sick_tim_5xx.stl"/>
      </geometry>
      <material name="blue">
        <color rgba="0 0 1 1"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://sick_scan/meshes/sick_tim_5xx.stl"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.15"/>
      <origin xyz="0 0 -0.026"/>
      <inertia ixx="0.000123012450795" ixy="0.0" ixz="0.0" iyy="0.000123012450795" iyz="0.0" izz="8.9999964e-05"/>
    </inertial>
  </link>
  <gazebo reference="front_laser">
    <material value="Gazebo/Blue"/>
    <sensor name="front_laser" type="ray">
      <always_on>true</always_on>
      <update_rate>15.0</update_rate>
      <pose>0 0 0 0 0 0</pose>
      <visualize>false</visualize>
      <ray>
        <scan>
          <horizontal>
            <samples>271</samples>
            <resolution>1</resolution>
            <min_angle>-2.357</min_angle>
            <max_angle>2.357</max_angle>
          </horizontal>
        </scan>
        <range>
          <min>0.05</min>
          <max>4.0</max>
          <resolution>0.01</resolution>
        </range>
        <noise>
          <type>gaussian</type>
          <mean>0.0</mean>
          <stddev>0.01</stddev>
        </noise>
      </ray>
      <plugin filename="libgazebo_ros_laser.so" name="gazebo_ros_front_laser_controller">
        <topicName>laser_scanner_front</topicName>
        <frameName>front_laser</frameName>
      </plugin>
    </sensor>
  </gazebo>
  <!-- distance box laserscanner front -->
  <link name="laser_front_box">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <axis xyz="0 0 0"/>
      <geometry>
        <box size="0.022 0.05 0.05"/>
      </geometry>
    </visual>
    <inertial>
      <mass value="0.1"/>
      <inertia ixx="0.0" ixy="0.0" ixz="0.0" iyy="0.0" iyz="0.0" izz="0.0"/>
    </inertial>
  </link>
  <gazebo reference="laser_front_box">
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <!-- joint between laserscanner box and base link-->
  <joint name="j_laser_box" type="fixed">
    <parent link="axesFront"/>
    <child link="laser_front_box"/>
    <origin rpy="0 0 0" xyz="0.28850000000000003 0 -0.005"/>
  </joint>
  <!-- joint between base link and first part of the articulated joint (body_angle) -->
  <joint name="body_angle" type="revolute">
    <axis xyz="1 0 0"/>
    <limit effort="1.0" lower="-1.57" upper="1.57" velocity="0.5"/>
    <parent link="axesFront"/>
    <child link="jointFront"/>
    <origin xyz="-0.383 0 0"/>
  </joint>
  <!-- transmisson for body angle -> this is required to present this joint in floribot/joint_states -->
  <transmission name="body_angle_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="body_angle">
      <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
    </joint>
    <actuator name="body_angle_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <!-- transmission fl -->
  <!-- <xacro:wheel_transmission position="frontLeft" /> -->
  <!-- connection part 1 of the articulated joint (vertical one) -->
  <link name="jointFront">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <axis xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.06" radius="0.008"/>
      </geometry>
      <material name="r">
        <color rgba="0.9 0 0 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.06" radius="0.008"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.01"/>
      <inertia ixx="0.000004" ixy="0.0" ixz="0.0" iyy="0.0" iyz="0.0" izz="0.000004"/>
    </inertial>
  </link>
  <gazebo reference="jointFront">
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <!-- revolute joint front and jointFront -->
  <joint name="j_revolute_front_rear" type="revolute">
    <axis xyz="0 0 1"/>
    <limit effort="1.0" lower="-1.57" upper="1.57" velocity="0.5"/>
    -
  
    <parent link="jointFront"/>
    <child link="jointRear"/>
    <origin xyz="0 0 0"/>
  </joint>
  <!-- transmisson for body angle -> this is required to present this joint in floribot/joint_states -->
  <transmission name="swaing_angle_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="j_revolute_front_rear">
      <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
    </joint>
    <actuator name="swing_angle_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <!-- jointRear -->
  <link name="jointRear">
    <visual>
      <origin rpy="0 1.57 0" xyz="0 0 0"/>
      <axis xyz="0 0 0.025"/>
      <geometry>
        <cylinder length="0.055" radius="0.008"/>
      </geometry>
      <material name="r">
        <color rgba="0.9 0 0 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 1.57 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.055" radius="0.008"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.01"/>
      <inertia ixx="0.000004" ixy="0.0" ixz="0.0" iyy="0.0" iyz="0.0" izz="0.000004"/>
    </inertial>
  </link>
  <gazebo reference="jointRear">
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <!-- joint between connection part 2 and rear wagon ghost -->
  <joint name="j_jointRear_rear_wagon" type="fixed">
    <parent link="jointRear"/>
    <child link="axesRear"/>
    <origin xyz="-0.353 0 0"/>
  </joint>
  <!-- rear wagon ghost -->
  <link name="axesRear">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0.14"/>
      <axis xyz="0 0 0"/>
      <geometry>
        <box size="0.01 0.01 0.01"/>
      </geometry>
      <material name="b">
        <color rgba="0 0 0.9 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0.14"/>
      <geometry>
        <box size="0.01 0.01 0.01"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0.14"/>
      <mass value="0.001"/>
      <inertia ixx="1.369982" ixy="0.0" ixz="0.0" iyy="0.487502" iyz="0.0" izz="1.132200"/>
    </inertial>
  </link>
  <!-- joint between rear wagon ghost and rear wagon link -->
  <joint name="j_axesRear_2_rear_wagon" type="fixed">
    <parent link="axesRear"/>
    <child link="rear_wagon"/>
    <origin xyz="0.025 0 0"/>
  </joint>
  <!-- rear wagon link -->
  <link name="rear_wagon">
    <visual>
      <origin rpy="0 0 0" xyz="0.3585 0 -0.14"/>
      <axis xyz="0 0 0"/>
      <geometry>
        <mesh filename="/home/aaron/floribot/ros2_ws/install/floribot_simulation/share/floribot_simulation/meshes/Hinterwagen.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="b">
        <color rgba="0 0 0.9 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0.14"/>
      <geometry>
        <box size="0.605 0.213 0.363"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0.14"/>
      <mass value="33"/>
      <inertia ixx="0.4137" ixy="0.00027" ixz="0.007359" iyy="1.047" iyz="0.0001775" izz="0.9021"/>
    </inertial>
  </link>
  <!-- color rear wagon -->
  <gazebo reference="rear_wagon">
    <material>Gazebo/Grey</material>
  </gazebo>
  <!-- joint rear laserscanner x_laser_back-->
  <joint name="j_rear_laser" type="fixed">
    <parent link="axesRear"/>
    <child link="rear_laser_mount_link"/>
    <origin rpy="3.14 0 3.14" xyz="-0.3315 0 0.03"/>
  </joint>
  <!-- z_offset: distance between base plate and laser center (= center of mesh) -->
  <link name="rear_laser_mount_link">
    <inertial>
      <mass value="0.001"/>
      <origin xyz="0 0 0"/>
      <inertia ixx="0.000001" ixy="0.0" ixz="0.0" iyy="0.000001" iyz="0.0" izz="0.000001"/>
    </inertial>
  </link>
  <joint name="rear_laser_joint" type="fixed">
    <parent link="rear_laser_mount_link"/>
    <child link="rear_laser"/>
    <origin rpy="0 0 0" xyz="0 0 0.05595"/>
  </joint>
  <link name="rear_laser">
    <visual>
      <geometry>
        <mesh filename="package://sick_scan/meshes/sick_tim_5xx.stl"/>
      </geometry>
      <material name="blue">
        <color rgba="0 0 1 1"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://sick_scan/meshes/sick_tim_5xx.stl"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.15"/>
      <origin xyz="0 0 -0.026"/>
      <inertia ixx="0.000123012450795" ixy="0.0" ixz="0.0" iyy="0.000123012450795" iyz="0.0" izz="8.9999964e-05"/>
    </inertial>
  </link>
  <gazebo reference="rear_laser">
    <material value="Gazebo/Blue"/>
    <sensor name="rear_laser" type="ray">
      <always_on>true</always_on>
      <update_rate>15.0</update_rate>
      <pose>0 0 0 0 0 0</pose>
      <visualize>false</visualize>
      <ray>
        <scan>
          <horizontal>
            <samples>271</samples>
            <resolution>1</resolution>
            <min_angle>-2.357</min_angle>
            <max_angle>2.357</max_angle>
          </horizontal>
        </scan>
        <range>
          <min>0.05</min>
          <max>4.0</max>
          <resolution>0.01</resolution>
        </range>
        <noise>
          <type>gaussian</type>
          <mean>0.0</mean>
          <stddev>0.01</stddev>
        </noise>
      </ray>
      <plugin filename="libgazebo_ros_laser.so" name="gazebo_ros_rear_laser_controller">
        <topicName>laser_scanner_rear</topicName>
        <frameName>rear_laser</frameName>
      </plugin>
    </sensor>
  </gazebo>
  <!-- joint front wagon and wheel fl -->
  <joint name="joint_frontLeft" type="continuous">
    <parent link="axesFront"/>
    <child link="frontLeft"/>
    <axis xyz="0 1 0"/>
    <origin xyz="0 0.167 0"/>
    <limit effort="100.0" velocity="14.2857"/>
  </joint>
  <!-- transmission fl -->
  <!-- <xacro:wheel_transmission position="frontLeft" /> -->
  <transmission name="joint_frontLeft_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="joint_frontLeft">
      <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </joint>
    <actuator name="joint_frontLeft_motor">
    </actuator>
  </transmission>
  <!-- wheel fl -->
  <link name="frontLeft">
    <visual>
      <origin rpy="1.57 0 0" xyz="0 -0.0355 0"/>
      <axis xyz="0 0 0"/>
      <geometry>
        <mesh filename="/home/aaron/floribot/ros2_ws/install/floribot_simulation/share/floribot_simulation/meshes/Reifen.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="r">
        <color rgba="0.9 0 0 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="1.57 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.09" radius="0.14"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="2.4"/>
      <inertia ixx="0.014" ixy="0.0" ixz="0.0" iyy="0.026" iyz="0.0" izz="0.014"/>
    </inertial>
  </link>
  <!-- joint front wagon and fr -->
  <joint name="joint_frontRight" type="continuous">
    <parent link="axesFront"/>
    <child link="frontRight"/>
    <axis xyz="0 1 0"/>
    <origin xyz="0 -0.167 0"/>
    <limit effort="100.0" velocity="14.2857"/>
  </joint>
  <transmission name="joint_frontRight_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="joint_frontRight">
      <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </joint>
    <actuator name="joint_frontRight_motor">
    </actuator>
  </transmission>
  <!-- friction and damping coefficents for gazebo simulation -->
  <gazebo reference="frontRight">
    <mu1 value="0.5"/>
    <mu2 value="0.5"/>
    <kp value="10000000.0"/>
    <kd value="1.0"/>
    <fdir1 value="1 0 0"/>
  </gazebo>
  <!-- wheel fr -->
  <link name="frontRight">
    <visual>
      <origin rpy="1.57 0 0" xyz="0 -0.034499999999999996 0"/>
      <axis xyz="0 0 0"/>
      <geometry>
        <mesh filename="/home/aaron/floribot/ros2_ws/install/floribot_simulation/share/floribot_simulation/meshes/Reifen.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="r">
        <color rgba="0.9 0 0 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="1.57 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.09" radius="0.14"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="2.4"/>
      <inertia ixx="0.014" ixy="0.0" ixz="0.0" iyy="0.026" iyz="0.0" izz="0.014"/>
    </inertial>
  </link>
  <!-- joint rear wagon and wheel rr -->
  <joint name="joint_rearRight" type="continuous">
    <parent link="axesRear"/>
    <child link="rearRight"/>
    <axis xyz="0 1 0"/>
    <origin xyz="0 -0.167 0"/>
    <limit effort="100.0" velocity="14.2857"/>
  </joint>
  <transmission name="joint_rearRight_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="joint_rearRight">
      <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </joint>
    <actuator name="joint_rearRight_motor">
    </actuator>
  </transmission>
  <!-- friction and damping coefficents for gazebo simulation -->
  <gazebo reference="rearRight">
    <mu1 value="0.5"/>
    <mu2 value="0.5"/>
    <kp value="10000000.0"/>
    <kd value="1.0"/>
    <fdir1 value="1 0 0"/>
  </gazebo>
  <!-- wheel rr -->
  <link name="rearRight">
    <visual>
      <origin rpy="1.57 0 0" xyz="0 -0.034499999999999996 0"/>
      <axis xyz="0 0 0"/>
      <geometry>
        <mesh filename="/home/aaron/floribot/ros2_ws/install/floribot_simulation/share/floribot_simulation/meshes/Reifen.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="r">
        <color rgba="0.9 0 0 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="1.57 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.09" radius="0.14"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="2.4"/>
      <inertia ixx="0.014" ixy="0.0" ixz="0.0" iyy="0.026" iyz="0.0" izz="0.014"/>
    </inertial>
  </link>
  <!-- joint rear wagon and wheel rl -->
  <joint name="joint_rearLeft" type="continuous">
    <parent link="axesRear"/>
    <child link="rearLeft"/>
    <axis xyz="0 1 0"/>
    <origin xyz="0 0.167 0"/>
    <limit effort="100.0" velocity="14.2857"/>
  </joint>
  <transmission name="joint_rearLeft_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="joint_rearLeft">
      <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </joint>
    <actuator name="joint_rearLeft_motor">
    </actuator>
  </transmission>
  <!-- friction and damping coefficents for gazebo simulation -->
  <gazebo reference="rearLeft">
    <mu1 value="0.5"/>
    <mu2 value="0.5"/>
    <kp value="10000000.0"/>
    <kd value="1.0"/>
    <fdir1 value="1 0 0"/>
  </gazebo>
  <!-- wheel rl -->
  <link name="rearLeft">
    <visual>
      <origin rpy="1.57 0 0" xyz="0 -0.0355  0"/>
      <axis xyz="0 0 0"/>
      <geometry>
        <mesh filename="/home/aaron/floribot/ros2_ws/install/floribot_simulation/share/floribot_simulation/meshes/Reifen.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="r">
        <color rgba="0.9 0 0 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="1.57 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.09" radius="0.14"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="2.4"/>
      <inertia ixx="0.014" ixy="0.0" ixz="0.0" iyy="0.026" iyz="0.0" izz="0.014"/>
    </inertial>
  </link>
  <gazebo reference="frontLeft">
    <material>Gazebo/FlatBlack</material>
  </gazebo>
  <gazebo reference="frontRight">
    <material>Gazebo/FlatBlack</material>
  </gazebo>
  <gazebo reference="rearLeft">
    <material>Gazebo/FlatBlack</material>
  </gazebo>
  <gazebo reference="rearRight">
    <material>Gazebo/FlatBlack</material>
  </gazebo>
  <ros2_control name="IgnitionSystem" type="system">
    <hardware>
      <plugin>ign_ros2_control/IgnitionSystem</plugin>
    </hardware>
    <joint name="joint_frontLeft">
      <command_interface name="velocity"/>
      <state_interface name="velocity"/>
      <state_interface name="position"/>
    </joint>
    <joint name="joint_frontRight">
      <command_interface name="velocity"/>
      <state_interface name="velocity"/>
      <state_interface name="position"/>
    </joint>
    <joint name="joint_rearLeft">
      <command_interface name="velocity"/>
      <state_interface name="velocity"/>
      <state_interface name="position"/>
    </joint>
    <joint name="joint_rearRight">
      <command_interface name="velocity"/>
      <state_interface name="velocity"/>
      <state_interface name="position"/>
    </joint>
  </ros2_control>
  <gazebo>
    <plugin filename="ign_ros2_control-system" name="ign_ros2_control::IgnitionROS2ControlPlugin">
      <parameters>/home/aaron/floribot/ros2_ws/install/floribot_simulation/share/floribot_simulation/config/joints.yaml</parameters>
    </plugin>
  </gazebo>
</robot>
